#+STARTUP: hidestars content
* Кастомная конфигурация
  :LOGBOOK:
  CLOCK: [2019-01-31 Thu 17:02]--[2019-01-31 Thu 18:35] =>  1:33
  CLOCK: [2019-01-30 Wed 17:13]--[2019-01-30 Wed 17:14] =>  0:01
  CLOCK: [2019-01-30 Wed 12:36]--[2019-01-30 Wed 13:28] =>  0:52
  CLOCK: [2019-01-30 Wed 10:01]--[2019-01-30 Wed 10:14] =>  0:13
  CLOCK: [2019-01-29 Tue 21:05]--[2019-01-29 Tue 22:01] =>  0:56
  :END:

    
** Предварительный комментарий

          #+BEGIN_SRC shell :tangle ~/.config/i3/config
        # This file has been auto-generated by i3-config-wizard(1).
        # It will not be overwritten, so edit it as you like.
        #
        # Should you change your keyboard layout some time, delete
        # this file and re-run i3-config-wizard(1).
        #

        # i3 config file (v4)
        #
        # Please see https://i3.org/docs/userguide.html for a complete reference!
      #+END_SRC


** Установка переменных
     
*** Клавиша модификатор -- Windows
      
    Установка клавиши модификатора.
    Mod4 соответствует клавиши Windows 

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       set $mod Mod4
     #+END_SRC

*** Рабочие столы

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      #set $ws1 "1"
      set $ws1 "1"
      set $ws2 "2"
      set $ws3 "3"
      set $ws4 "4"
      set $ws5 "5"
      set $ws6 "6"
      set $ws7 "7"
      set $ws8 "8"
      set $ws9 "9"
      set $ws10 "10"
    #+END_SRC

*** Клавиша для манипуляции с плавающими окнами

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      floating_modifier $mod
    #+END_SRC
      
      
** Оформление

*** Шрифт

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      font pango:inconsolata-lgc 8
    #+END_SRC
     
*** Рамки окон

    Рамка 3 пикселя без заголовка
      
    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      default_border pixel 3
    #+END_SRC

** режимы    

     
*** Режим изменения размера
    :LOGBOOK:
    CLOCK: [2019-01-31 Thu 13:59]--[2019-01-31 Thu 13:59] =>  0:00
    :END:

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      mode "resize" {
              # These bindings trigger as soon as you enter the resize mode

              # Pressing left will shrink the window’s width.
              # Pressing right will grow the window’s width.
              # Pressing up will shrink the window’s height.
              # Pressing down will grow the window’s height.
              bindsym j resize shrink width 10 px or 10 ppt
              bindsym k resize grow height 10 px or 10 ppt
              bindsym l resize shrink height 10 px or 10 ppt
              bindsym semicolon resize grow width 10 px or 10 ppt

              # same bindings, but for the arrow keys
              bindsym Left resize shrink width 10 px or 10 ppt
              bindsym Down resize grow height 10 px or 10 ppt
              bindsym Up resize shrink height 10 px or 10 ppt
              bindsym Right resize grow width 10 px or 10 ppt

              # back to normal: Enter or Escape or $mod+r
              bindsym Return mode "default"
              bindsym Escape mode "default"
              bindsym $mod+r mode "default"
      }
    #+END_SRC

*** системный режим выключения/перезагрузки
    :LOGBOOK:
    CLOCK: [2019-01-30 Wed 17:14]--[2019-01-30 Wed 17:15] =>  0:01
    :END:

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      mode "sys" {
                 #reboot system
                 bindsym r exec "sudo shutdown -r 0"
                 #poweroff
                 bindsym p exec "sudo shutdown -P 0"
                 #exit
                 bindsym e exec "i3-msg exit"
                 bindsym Escape mode "default"
      }
    #+END_SRC
  
      
*** dmenu

**** COMMENT горизонтальная компоновка элементов
     
     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       mode "dmenu"{
            bindsym d exec dmenu_run, mode "default"
            bindsym e exec --no-startup-id ~/.scripts/dmenuemoji,  mode "default"
            bindsym m exec --no-startup-id ~/.scripts/dmenumount,  mode "default"
            bindsym u exec --no-startup-id ~/.scripts/dmenuumount, mode "default"
            bindsym Escape mode"default"
       }
     #+END_SRC

     
**** выпадающее меню

     Такой вид dmenu принимает благодаря ключу -l с указанием количества выпадающих строк.
     
      #+BEGIN_SRC shell :tangle ~/.config/i3/config
        mode "dmenu"{
             bindsym d exec dmenu_run -l 5, mode "default"
             bindsym e exec --no-startup-id ~/.scripts/dmenuemoji,  mode "default"
             bindsym m exec --no-startup-id ~/.scripts/dmenumount,  mode "default"
             bindsym u exec --no-startup-id ~/.scripts/dmenuumount, mode "default"
             bindsym t exec --no-startup-id (~/.scripts/ddtrans && ~/.scripts/ddspawn /home/eto/.scripts/less_trans), mode "default"
             bindsym c exec --no-startup-id (~/.scripts/ddspawn /home/eto/.scripts/calc),mode "default"
             bindsym Escape mode"default"
        }
      #+END_SRC



      
*** приложения

      
**** Браузеры

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       mode "brose"{
                   #chrome
                   #bindsym c exec google-chrome-stable, mode "default"
           #firefox
                   bindsym f exec firefox-bin, mode "default"
                   #qutebrowser
                   bindsym q exec qutebrowser, mode "default"
                   bindsym w exec "termite -e 'w3m www.google.com'",mode "default"
                   bindsym Escape mode "default"
       }
     #+END_SRC
       
**** emacs

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       mode "emacs" {
                   #запуск тестовой конфигурации имакс
                   bindsym t exec emacs -q  --load "~/.testmacs.d/init.el", mode "default"
                   #запуск имакс клиент стандартной конфигурации
                   bindsym e exec "emacsclient -a '' -c", mode "default"
                   #запуск спайсемакса
                   bindsym s exec emacs -q  --load "~/.spacemacs.d/start.el", mode "default"
                   #запуск альфаверсии emacs
                   bindsym b exec emacs -q --load "~/.buildemacs.d/dirinit.el", mode "default"
                   bindsym Escape mode "default" 
       }
     #+END_SRC
       
**** операции с файлами

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       mode "file"{
                   #ranger
                   bindsym m exec "termite -e ranger", mode "default"
                   bindsym v exec "termite -e vifm", mode "default"
                   bindsym Escape mode "default"
       }
     #+END_SRC

**** rofi

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       mode "rofi"{
                   #websearch
                   bindsym w exec "/home/eto/.scripts/rofi_websearch", mode "default"
                   bindsym Escape mode "default"
       }
     #+END_SRC
**** привязка приложений

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       mode "app" {
               # c, chrome
               bindsym b mode "brose"
               bindsym e mode "emacs"
               bindsym m exec "termite -e ncmpcpp", mode "default"
               bindsym v exec "termite -e vim",     mode "default"
               bindsym f mode "file"
               bindsym r mode "rofi"
               bindsym Escape mode "default"
       }
     #+END_SRC
       
** Клавиатурные сочетания запуска режимов и приложений
*** терминал по умолчанию

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+Return exec termite
    #+END_SRC

*** dmenu

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+d mode "dmenu"
    #+END_SRC

*** rofi

    [2019-02-07 Thu 12:15]
    
    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+space exec "rofi -show"
    #+END_SRC
    
*** приложения

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+a mode "app"
    #+END_SRC

*** управление звуком

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym XF86AudioRaiseVolume exec amixer -q sset Master 3%+
      bindsym XF86AudioLowerVolume exec amixer -q sset Master 3%-
      bindsym XF86AudioMute        exec amixer -q set Master toggle
    #+END_SRC

*** управление подсветкой экрана

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym XF86MonBrightnessUp exec xbacklight +10
      bindsym XF86MonBrightnessDown exec xbacklight -10
    #+END_SRC

    #+RESULTS:

*** управление воспроизведением

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym XF86AudioPlay exec "mpc toggle"
      bindsym XF86AudioStop exec "mpc stop"
      bindsym XF86AudioNext exec "mpc next"
      bindsym XF86AudioPrev exec "mpc prev"
    #+END_SRC
      
*** включение/выключение/перезагрузка

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+m mode "sys"
    #+END_SRC
      
** Управление окнами

*** закрыть окно

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+F4 kill
    #+END_SRC
      
*** Перемещение между окнами
      
**** vim-like

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+j focus left
       bindsym $mod+k focus down
       bindsym $mod+l focus up
       bindsym $mod+semicolon focus rigt
     #+END_SRC
       
**** Стрелки

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+Left  focus left
       bindsym $mod+Down  focus down
       bindsym $mod+Up    focus up
       bindsym $mod+Right focus right
     #+END_SRC
     
*** Перемещение окон
      
**** перемещение на одном рабочем столе
       
***** vim

      #+BEGIN_SRC shell :tangle ~/.config/i3/config
        bindsym $mod+Shift+j move left
        bindsym $mod+Shift+k move down
        bindsym $mod+Shift+l move up
        bindsym $mod+Shift+h move right
      #+END_SRC

***** стрелки

      #+BEGIN_SRC shell :tangle ~/.config/i3/config
        bindsym $mod+Shift+Left  move left
        bindsym $mod+Shift+Down  move down
        bindsym $mod+Shift+Up    move up
        bindsym $mod+Shift+Right move right
      #+END_SRC

        
**** перемещение окон между рабочими столами

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+Shift+1 move container to workspace $ws1
       bindsym $mod+Shift+2 move container to workspace $ws2
       bindsym $mod+Shift+3 move container to workspace $ws3
       bindsym $mod+Shift+4 move container to workspace $ws4
       bindsym $mod+Shift+5 move container to workspace $ws5
       bindsym $mod+Shift+6 move container to workspace $ws6
       bindsym $mod+Shift+7 move container to workspace $ws7
       bindsym $mod+Shift+8 move container to workspace $ws8
       bindsym $mod+Shift+9 move container to workspace $ws9
       bindsym $mod+Shift+0 move container to workspace $ws10
     #+END_SRC

*** Разбиение
      
**** Размещение окон по вертикали в контейнере

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+v split v
     #+END_SRC
       
**** Размещение окон по горизонтали в контейнере

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+h split h
     #+END_SRC
       
**** Изменение лейотов

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+s layout stacking    
       bindsym $mod+w layout tabbed      
       bindsym $mod+e layout toggle split
     #+END_SRC

*** пространство между окнами(gaps)

    
**** По умолчанию равно нулю

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       gaps inner 5
       gaps outer 1
     #+END_SRC
     
**** сочетание клавиш для изменения гапсов

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+g gaps inner current plus 5
       bindsym $mod+Shift+g gaps inner current minus 5
     #+END_SRC
     
*** изменение размера

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+r mode "resize"
    #+END_SRC
      
*** окно на полный экран

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+f fullscreen toggle
    #+END_SRC
       
*** переключение плавающее/фиксированное

**** переключение окна
       
     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+Shift+f floating toggle
     #+END_SRC

*** оформление
      
**** Переключение рамок

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+t border toggle
     #+END_SRC

*** управление фокусом
      
**** фокус на родительский контейнер

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       bindsym $mod+p focus parent
     #+END_SRC
       
**** COMMENT фокус на контейнер потомок

     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       binadsym $mod+c focus child
     #+END_SRC
      
*** Автораспределение окон по меткам
    
**** terminal scripts
     
     #+BEGIN_SRC shell :tangle ~/.config/i3/config
       for_window [instance="dropdown_*"] floating enable
       for_window [instance="dropdown_*"] move scratchpad
       for_window [instance="dropdown_*"] sticky enable
       for_window [instance="dropdown_*"] scratchpad show
       for_window [instance="dropdown_tmuxdd"] resize set 625 450
       for_window [instance="dropdown_dropdowncalc"] resize set 800 300
       for_window [instance="dropdown_tmuxdd"] border pixel 3
       for_window [instance="dropdown_dropdowncalc"] border pixel 2
       for_window [instance="dropdown_*"] move position center
     #+END_SRC
    
**** axiom

     
***** COMMENT плавающая контрольная панель
      
      #+BEGIN_SRC shell :tangle ~/.config/i3/config
        for_window [title=".*Control.*"] floating enable
        for_window [title=".*Control.*"] sticky enable
      #+END_SRC
     
***** плавающие график и контрольная панель

      #+BEGIN_SRC shell :tangle ~/.config/i3/config
        for_window [title="(2|3)D.*"] floating enable
        for_window [title="(2|3)D.*"] sticky enable
      #+END_SRC
** Управление рабочими столами
     
*** Перемещение между рабочими столами

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+1 workspace $ws1
      bindsym $mod+2 workspace $ws2
      bindsym $mod+3 workspace $ws3
      bindsym $mod+4 workspace $ws4
      bindsym $mod+5 workspace $ws5
      bindsym $mod+6 workspace $ws6
      bindsym $mod+7 workspace $ws7
      bindsym $mod+8 workspace $ws8
      bindsym $mod+9 workspace $ws9
      bindsym $mod+0 workspace $ws10
    #+END_SRC

      
** Запуск/перезапуск/выход

     
*** перезагрузить конфигруционный файл
      
    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+Shift+c reload
    #+END_SRC

      
*** перезапустить сессию

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+Shift+r restart
    #+END_SRC

      
*** завершение сессии

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"
    #+END_SRC

      
** строка состояния

     
*** COMMENT i3blocks
      
    #+BEGIN_SRC shell :tangle ~/.config/i3/config
                bar {
                    font pango:inconsolata 9
                    colors {
                            background $darkblack
                            statusline $darkwhite
                            separator $cyan
                            # focused_workspace $blue $darkblue $darkblack
                            #     active_workspace $blue $blue $darkwhite
                            #     inactive_workspace $darkblack $darkblack $white
                            #     urgent_workspace   $darkblack $darkblack $white
                #                inactive_workspace $darkblack $darkblack $white
                #                urgent_work_space  $darkblack $darkblack $white                
                           }
                        position top
                #        status_command i3status
                        status_command i3blocks
                        mode dock
                        modifier None
        
                }
    #+END_SRC


*** polybar

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec_always --no-startup-id ~/.config/polybar/launch.sh
    #+END_SRC

** Автозагрузка

     
*** Обои

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec nitrogen --restore
    #+END_SRC

      
*** раскладка

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec (setxkbmap -layout "us,ru" -option "grp:caps_toggle,grp_led:caps" ) &
    #+END_SRC

      
*** COMMENT намлок

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec (numlockx )&
    #+END_SRC

      
*** emacs

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec (emacs --daemon)
    #+END_SRC

      
*** yandex-disk

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec (yandex-disk start) &
    #+END_SRC                                         

*** dropbox

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec "(dropbox-cli start) &"
    #+END_SRC
    
*** dunst

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec (dunst )&
    #+END_SRC

*** syndaemon

    Демон для отключения тачпада во время использования клавитатуры

    #+BEGIN_SRC shell :tangle ~/.config/i3/config
      exec (syndaemon -d)
    #+END_SRC
